---
title: Logistic函数
date: 2017-09-02 13:39:59
tags: ['机器学习','Logistic']
categories: 机器学习
copyright:
mathjax: true
---

# 1、Logistic函数推导

<!--more-->

&emsp;&emsp;Logistic回归模型中，因变量只有0和1两种情况。假设在$p$个独立自变量${x}\_{1}$,${x}\_{2}$,...,${x}\_{p}$,的作用下，记$y$取1的概率是$p=P(y=1|X)$，则取0的概率是$1-p$。那么取1和取0的概率之比为$\frac{p}{1-p}$，该比值称为**发生比**（odds）。两个不同时间的发生比之比称为**优势比**，$\frac{p1}{1-p1}/\frac{p2}{1-p2}$。Logistic一般用发生比odds进行解释。
&emsp;&emsp;对发生比取自然对数即为$$Logit(p)=ln(\frac{p}{1-p})$$
&emsp;&emsp;令$Logit(p)=Z$，通过化简即可得到$p=\frac{1}{1+e^{-z}}$。$p=\frac{1}{1+e^{-z}}$就是Logistic函数。
&emsp;&emsp;因为$p$在$(0,1)$取值，则$Logit(p)$在$(0,+\propto)$取值，Logistic函数在$(-\propto,+\propto)$取值。
# 2、Logistic回归模型
&emsp;&emsp;Logistic回归模型是建立在$ln(\frac{p}{1-p})$与自然变量的线性回归模型。Logistic回归模型的公式为：$$ln(\frac{p}{1-p})={\beta}\_{0}+{\beta}\_{1}{x}\_{1}+...+{\beta}\_{p}{x}\_{p}+\varepsilon $$
&emsp;&emsp;因为$ln(\frac{p}{1-p})$的取值是$(-\propto,+\propto)$,所以自然变量${x}\_{1}$,${x}\_{2}$,...,${x}\_{p}$的取值是任意范围的。
&emsp;&emsp;记$g(x)={\beta}\_{0}+{\beta}\_{1}{x}\_{1}+...+{\beta}\_{p}{x}\_{p}$，得到$p=\frac{1}{1+e^{-g(x)}}$，$1-p=\frac{1}{1+e^{g(x)}}$。**此处忽略$\varepsilon$**。
# 3、Logistic回归模型的建模步骤

 1. 根据目标数据设置指标变量(因变量、自变量)，然后收集数据。
 2. 用$ln(\frac{p}{1-p})$和自变量列出回归方程，估计出模型中的回归系数。$$ln(\frac{p}{1-p})={\beta}\_{0}+{\beta}\_{1}{x}\_{1}+...+{\beta}\_{p}{x}\_{p} $$
 3. 进行模型检验，根据输出的方差分析表中的$F$值和$p$值来检验该回归方程是否显著。如果$p$值小于显著水平$\alpha$则模型通过检验，可以进行下一步回归系数的检验，否则重新选择指标变量，重新建立回归方程。
 4. 在多元线性回归中，并不是每个自变量都会对$y$产生显著的影响，需要对每一个自变量都进行显著性检验，使得那些次要可有可无的变量不参与回归过程，去除之后便可建立更加简单有效的回归方程。
 5. 模型应用。

# 4、对一般Logistic模型系数的解释

<br/>
> 该部分引用[这里][1]

&emsp;&emsp;广义的线性模型由三部分组成：随机部分、系统部分和连接部分。直观地理解这种差异：将两种模型都视为广义线性模型的特殊形式。广义线性模型由三个部分组成：随机部分、系统部分和连接部分。

&emsp;&emsp;随机部分指的是变量Y以及Y的概率分布，传统线性模型Y是连续变量并假设其服从正态分布。在经典logistic回归中，Y是一个二分变量并服从二项式分布。

&emsp;&emsp;系统部分指的是解释变量以及这些解释变量如何组合在一起构成了解释方程，在传统线性模型和logistic回归中都是这样：${\beta}\_{0}+{\beta}\_{1}{x}\_{1}+...+{\beta}\_{p}{x}\_{p}$ ，这个表达通常被称为线性预测（linear predictor），而x与其他解释变量还可以结合（如相乘交互），因此可以做出其实非线性的预测。

&emsp;&emsp;连接部分说明了Y的均值 μ =E（Y）如何与线性预测相联系。

> 其实说白了就是，随机部分规定了 Y，系统部分规定了 X，而连接部分就是用一个连接函数（link function）将 X 与 Y连了起来，也就是我们经常看到的回归方程，它所反映的是 x 的变化带来的 Y 的均值的变化。


&emsp;&emsp;对Logit模型系数解释的一个总的原则是：方向看系数，大小看exp(系数)，不管自变量是连续变量还是虚拟变量 or 其他。


  [1]: http://www.jianshu.com/p/89c6e5ebea34?winzoom=1